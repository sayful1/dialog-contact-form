!function(){"use strict";var m={selector:"dcf-form",fieldClass:"dcf-has-error",errorClass:"dcf-error-message",loadingClass:"is-loading",messageValueMissing:"Please fill out this field.",messageValueMissingSelect:"Please select a value.",messageValueMissingSelectMulti:"Please select at least one value.",messageTypeMismatchEmail:"Please enter an email address.",messageTypeMismatchURL:"Please enter a URL.",messageTooShort:"Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.",messageTooLong:"Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.",messagePatternMismatch:"Please match the requested format.",messageBadInput:"Please enter a number.",messageStepMismatch:"Please select a valid value.",messageRangeOverflow:"Please select a value that is no more than {max}.",messageRangeUnderflow:"Please select a value that is no less than {min}.",messageGeneric:"The value you entered for this field is invalid.",disableSubmit:!0},d=window.DialogContactForm||{ajaxurl:"",nonce:""};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null});var u=function(e){var t=m;if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var a=e.validity;if(!a.valid){if(a.valueMissing)return"select-multiple"===e.type?t.messageValueMissingSelectMulti:"select-one"===e.type?t.messageValueMissingSelect:t.messageValueMissing;if(a.typeMismatch){if("email"===e.type)return t.messageTypeMismatchEmail;if("url"===e.type)return t.messageTypeMismatchURL}return a.tooShort?t.messageTooShort.replace("{minLength}",e.getAttribute("minLength")).replace("{length}",e.value.length):a.tooLong?t.messageTooLong.replace("{minLength}",e.getAttribute("maxLength")).replace("{length}",e.value.length):a.badInput?t.messageBadInput:a.stepMismatch?t.messageStepMismatch:a.rangeOverflow?t.messageRangeOverflow.replace("{max}",e.getAttribute("max")):a.rangeUnderflow?t.messageRangeUnderflow.replace("{min}",e.getAttribute("min")):a.patternMismatch?e.hasAttribute("title")?e.getAttribute("title"):t.messagePatternMismatch:t.messageGeneric}}},g=function(e,t){var a=m;if(e.classList.add(a.fieldClass),("radio"===e.type||"checkbox"===e.type)&&e.name){var r=document.getElementsByName(e.name);if(0<r.length){for(var s=0;s<r.length;s++)r[s].form===e.form&&r[s].classList.add(a.fieldClass);e=r[r.length-1]}}var n=e.id||e.name;if(n){var l,i=e.form.querySelector("."+a.errorClass+"#error-for-"+n);if(!i)(i=document.createElement("div")).className=a.errorClass,i.id="error-for-"+n,"radio"!==e.type&&"checkbox"!==e.type||(l=e.form.querySelector('label[for="'+n+'"]')||e.parentNode)&&l.parentNode.insertBefore(i,l.nextSibling),l||e.parentNode.insertBefore(i,e.nextSibling);e.setAttribute("aria-describedby","error-for-"+n),i.innerHTML=t,i.style.display="block",i.style.visibility="visible"}},r=function(e){var t=m;if(e.classList.remove(t.fieldClass),e.removeAttribute("aria-describedby"),("radio"===e.type||"checkbox"===e.type)&&e.name){var a=document.getElementsByName(e.name);if(0<a.length){for(var r=0;r<a.length;r++)a[r].form===e.form&&a[r].classList.remove(t.fieldClass);e=a[a.length-1]}}var s=e.id||e.name;if(s){var n=e.form.querySelector("."+t.errorClass+"#error-for-"+s);n&&(n.innerHTML="",n.style.display="none",n.style.visibility="hidden")}};document.addEventListener("blur",function(e){if(e.target.form&&e.target.form.classList.contains(m.selector)){var t=u(e.target);t?g(e.target,t):r(e.target)}},!0),document.addEventListener("click",function(e){if(e.target.form&&e.target.form.classList.contains(m.selector)){var t=e.target.getAttribute("type");if("checkbox"===t||"radio"===t){var a=u(e.target);a?g(e.target,a):r(e.target)}}},!0),document.addEventListener("submit",function(e){if(e.target.classList.contains(m.selector)){e.preventDefault();for(var t,a=e.target.elements,r=0;r<a.length;r++){var s=u(a[r]);s&&(g(a[r],s),t||(t=a[r]))}if(t)t.focus();else{var n=e.target,l=n.querySelector(".dcf-success"),i=n.querySelector(".dcf-submit");i.classList.add(m.loadingClass),function(e){e.querySelector(".dcf-success").innerHTML="",e.querySelector(".dcf-error").innerHTML="";for(var t=e.querySelectorAll("."+m.errorClass),a=0;a<t.length;a++)t[a].parentNode.removeChild(t[a]);var r=e.querySelectorAll(".input, .textarea, .select select");for(a=0;a<r.length;a++)r[a].classList.remove(m.fieldClass)}(n);var o=new FormData(n);o.append("action","dcf_submit_form"),o.append("nonce",d.nonce);var c=new XMLHttpRequest;c.addEventListener("load",function(e){i.classList.remove(m.loadingClass);var t=e.target,a=JSON.parse(t.responseText);200<=t.status&&t.status<300?(a.message&&(l.innerHTML="<p>"+a.message+"</p>"),n.reset()):function(e,t){var a,r,s,n,l,i;for(r in t.message&&(e.querySelector(".dcf-error").innerHTML="<p>"+t.message+"</p>"),a=t.validation&&"object"==typeof t.validation?t.validation:{})a.hasOwnProperty(r)&&(n=(s=e.querySelector('[name="'+r+'"]')).closest(".dcf-control"),(l=a[r])[0]&&(s.classList.add(m.fieldClass),i='<div class="'+m.errorClass+'">'+l[0]+"</div>",n.insertAdjacentHTML("beforeend",i)))}(n,a)}),c.open("POST",d.ajaxurl,!0),c.send(o)}}},!1)}(),function(){"use strict";var a,r,e=document.querySelectorAll('[data-toggle="modal"]'),t=document.querySelectorAll('[data-dismiss="modal"]');Array.prototype.forEach.call(e,function(t,e){t.addEventListener("click",function(e){e.preventDefault(),a=t.getAttribute("data-target"),(r=document.querySelector(a))&&r.classList.add("is-active")})}),Array.prototype.forEach.call(t,function(a,e){a.addEventListener("click",function(e){e.preventDefault();var t=a.closest(".modal");t&&t.classList.remove("is-active")})})}();