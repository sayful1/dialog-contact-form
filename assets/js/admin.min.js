!function(i){"use strict";var e,t,c,n,o=i("#shaplaFieldList"),a=["checkbox","radio","select"];function l(){o.find(".accordion").each(function(e){i(this).find("input,textarea,select").each(function(){i(this).attr("name",i(this).attr("name").replace(/\[\d+\]/g,"["+e+"]"))})})}i("#addFormField").on("click",function(e){e.preventDefault(),o.append(i("#shaplaFieldTemplate").html()),l()}),o.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(i(this).closest(".accordion").remove(),l())}),o.on("keydown keyup",".dcf-field-title",function(){e=i(this),t=e.val(),(c=e.closest(".accordion")).find(".accordion-header").text(t),c.find(".dcf-field-placeholder").val(t),c.find(".dcf-field-id").val(t.replace(/[\W_]+/g,"_").toLowerCase())}),o.on("change",".dcf-field-type",function(){e=i(this),c=e.closest(".accordion"),0<=i.inArray(e.val(),a)?c.find(".col-addOptions").slideDown("fast"):c.find(".col-addOptions").slideUp("fast"),"number"===e.val()?c.find(".col-numberOption").slideDown("fast"):c.find(".col-numberOption").slideUp("fast")}),o.sortable({placeholder:"ui-state-highlight",stop:function(){l()}}),o.on("click",".accordion-header",function(){i(this).toggleClass("active"),n=i(this).next(),0<parseInt(n.css("max-height"))?n.removeClass("is-open").css("max-height","0"):n.addClass("is-open").css("max-height",n.prop("scrollHeight")+"px")}),i(".dcf-colorpicker").each(function(){i(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})})}(jQuery);