!function(i){"use strict";var e,t,d,c,l=i("#shaplaFieldList"),n=["checkbox","radio","select"];function o(){l.find(".dcf-toggle").each(function(e){i(this).find("input,textarea,select").each(function(){i(this).attr("name",i(this).attr("name").replace(/\[\d+\]/g,"["+e+"]"))})})}function a(){e=i(this),t=e.find(":selected").val(),(d=e.closest(".dcf-toggle")).find(".col-addOptions").hide(),d.find(".col-numberOption").hide(),d.find(".col-field_value").hide(),d.find(".col-acceptance").hide(),d.find(".col-min_date").hide(),d.find(".col-max_date").hide(),d.find(".col-native_html5").hide(),d.find(".col-validation").hide(),d.find(".col-error_message").hide(),"acceptance"===t&&(d.find(".col-placeholder").hide(),d.find(".col-field_class").slideUp("fast"),d.find(".col-acceptance").slideDown("fast")),"checkbox"===t&&(d.find(".col-placeholder").hide(),d.find(".col-field_class").slideUp("fast"),d.find(".col-required_field").slideUp("fast"),d.find(".col-addOptions").slideDown("fast")),"date"===t&&(d.find(".col-min_date").slideDown("fast"),d.find(".col-max_date").slideDown("fast"),d.find(".col-native_html5").slideDown("fast")),"time"===t&&d.find(".col-native_html5").slideDown("fast"),0<=i.inArray(t,n)&&d.find(".col-addOptions").slideDown("fast"),"number"===t&&d.find(".col-numberOption").slideDown("fast")}i("#addFormField").on("click",function(e){e.preventDefault(),c=i("#shaplaFieldTemplate").html(),l.append(c),l.find(".dcf-toggle").each(function(){i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),l.find(".dcf-date-picker").each(function(){i(this).datepicker({dateFormat:"yy-mm-dd"})}),l.find(".dcf-field-type").each(function(){a.call(this)}),o()}),l.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(i(this).closest(".dcf-toggle").remove(),o())}),l.on("keydown keyup",".dcf-field-title",function(){e=i(this),t=e.val(),(d=e.closest(".dcf-toggle")).find(".dcf-toggle-title").text(t),d.find(".dcf-field-placeholder").val(t),d.find(".dcf-field-id").val(t.replace(/[\W_]+/g,"_").toLowerCase())}),l.on("change",".dcf-field-type",function(){a.call(this)}),i(document).ready(function(){l.find(".dcf-field-type").each(function(){a.call(this)})}),l.sortable({placeholder:"ui-state-highlight",stop:function(){o()}}),i(document).find(".dcf-toggle").each(function(){"closed"===i(this).data("id")?i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content"})}),i("#dcf-metabox-tabs").tabs(),i(".dcf-colorpicker").each(function(){i(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})}),i(document).find(".dcf-date-picker").each(function(){i(this).datepicker({dateFormat:"yy-mm-dd"})})}(jQuery);