!function(n){"use strict";var i=n("#shaplaFieldList");function t(){i.find(".accordion").each(function(e){n(this).find("input,textarea,select").each(function(){n(this).attr("name",n(this).attr("name").replace(/\[\d+\]/g,"["+e+"]"))})})}n("#addFormField").on("click",function(e){e.preventDefault(),i.append(n("#shaplaFieldTemplate").html()),t()}),i.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(n(this).closest(".accordion").remove(),t())}),i.on("keydown keyup",".dcf-field-title",function(){var e=n(this),i=e.val(),t=e.closest(".accordion");t.find(".accordion-header").text(i),t.find('[name="field[placeholder][]"]').val(i),t.find('[name="field[field_id][]"]').val(i.replace(/[\W_]+/g,"_").toLowerCase())}),i.on("change",".dcf-field-type",function(){var e,i=(e=n(this)).closest(".accordion");0<=n.inArray(e.val(),["checkbox","radio","select"])?i.find(".col-addOptions").slideDown("fast"):i.find(".col-addOptions").slideUp("fast"),"number"===e.val()?i.find(".col-numberOption").slideDown("fast"):i.find(".col-numberOption").slideUp("fast")}),i.sortable({placeholder:"ui-state-highlight",stop:function(){t()}}),i.on("click",".accordion-header",function(){n(this).toggleClass("active");var e=n(this).next();0<parseInt(e.css("max-height"))?e.removeClass("is-open").css("max-height","0"):e.addClass("is-open").css("max-height",e.prop("scrollHeight")+"px")}),n(".dcf-colorpicker").each(function(){n(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})})}(jQuery);