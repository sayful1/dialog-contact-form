!function(t){"use strict";var e,i,d,l,c=t("#shaplaFieldList"),o=["checkbox","radio","select"];function n(){e=t(this),i=e.find(":selected").val(),(d=e.closest(".dcf-toggle")).find(".col-addOptions").hide(),d.find(".col-numberOption").hide(),d.find(".col-field_value").hide(),d.find(".col-acceptance").hide(),d.find(".col-min_date").hide(),d.find(".col-max_date").hide(),d.find(".col-native_html5").hide(),d.find(".col-max_file_size").hide(),d.find(".col-allowed_file_types").hide(),d.find(".col-multiple_files").hide(),d.find(".col-rows").hide(),d.find(".col-validation").hide(),d.find(".col-error_message").hide(),"acceptance"===i&&(d.find(".col-placeholder").hide(),d.find(".col-field_class").slideUp("fast"),d.find(".col-acceptance").slideDown("fast")),"checkbox"===i&&(d.find(".col-placeholder").hide(),d.find(".col-field_class").slideUp("fast"),d.find(".col-required_field").slideUp("fast"),d.find(".col-addOptions").slideDown("fast")),"date"===i&&(d.find(".col-min_date").slideDown("fast"),d.find(".col-max_date").slideDown("fast"),d.find(".col-native_html5").slideDown("fast")),"time"===i&&d.find(".col-native_html5").slideDown("fast"),"file"===i&&(d.find(".col-placeholder").hide(),d.find(".col-max_file_size").slideDown("fast"),d.find(".col-allowed_file_types").slideDown("fast"),d.find(".col-multiple_files").slideDown("fast")),"hidden"===i&&(d.find(".col-placeholder").slideUp("fast"),d.find(".col-field_class").slideUp("fast"),d.find(".col-required_field").slideUp("fast"),d.find(".col-field_width").slideUp("fast"),d.find(".col-field_value").slideDown("fast")),"number"===i&&d.find(".col-numberOption").slideDown("fast"),"textarea"===i&&d.find(".col-rows").slideDown("fast"),0<=t.inArray(i,o)&&d.find(".col-addOptions").slideDown("fast")}function a(e){"page"===e?(t(".col-redirect-url").slideUp("first"),t(".col-redirect-page_id").slideDown("first")):"url"===e?(t(".col-redirect-page_id").slideUp("first"),t(".col-redirect-url").slideDown("first")):(t(".col-redirect-page_id").slideUp("first"),t(".col-redirect-url").slideUp("first"))}t("#addFormField").on("click",function(e){e.preventDefault(),l=t("#shaplaFieldTemplate").html(),c.append(l),c.find(".dcf-toggle").each(function(){t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),c.find(".dcf-date-picker").each(function(){t(this).datepicker({dateFormat:"yy-mm-dd"})}),c.find(".dcf-field-type").each(function(){n.call(this)})}),t(".dcf-fields-list").draggable({connectToSortable:"#shaplaFieldList",helper:"clone",stop:function(e,i){l=t("#shaplaFieldTemplate").html();t(this).data("type");i.helper.replaceWith(l),c.find(".dcf-toggle").each(function(){t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),c.find(".dcf-date-picker").each(function(){t(this).datepicker({dateFormat:"yy-mm-dd"})}),c.find(".dcf-field-type").each(function(){n.call(this)})}}),c.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&t(this).closest(".dcf-toggle").remove()}),c.on("keydown keyup",".dcf-field-title",function(){e=t(this),i=e.val(),(d=e.closest(".dcf-toggle")).find(".dcf-toggle-title").text(i),d.find(".dcf-field-placeholder").val(i),d.find(".dcf-field-id").val(i.replace(/[\W_]+/g,"_").toLowerCase())}),c.on("change",".dcf-field-type",function(){n.call(this)}),t(document).ready(function(){c.find(".dcf-field-type").each(function(){n.call(this)})}),c.sortable({placeholder:"ui-state-highlight",stop:function(){}}),t(document).find(".dcf-toggle").each(function(){"closed"===t(this).data("id")?t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content"})}),t("#dcf-metabox-tabs").tabs(),t(".dcf-colorpicker").each(function(){t(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})}),t(document).find(".dcf-date-picker").each(function(){t(this).datepicker({dateFormat:"yy-mm-dd"})}),t(document).ready(function(){t("select.select2").select2(),t("#actions_after_submit_actions").select2().on("select2:select",function(e){var i=t(this).val();t.each(i,function(e,i){t("#action-"+i).slideDown("fast")})}).on("select2:unselect",function(e){var i=e.params.data.id;t("#action-"+i).slideUp("fast")})}),t(document).on("change","#redirect_redirect_to",function(){a(t(this).find(":selected").val())}),t(document).ready(function(){a(t("#redirect_redirect_to").find(":selected").val())}),t(document).on("change","#mailchimp_mailchimp_api_key_source",function(){var e=t(this).find(":selected").val();"custom"===e?t(".col-mailchimp_api_key").slideDown("first"):t(".col-mailchimp_api_key").slideUp("first")}),t(document).ready(function(){var e=t.map(DialogContactForm.autocomplete,function(e,i){return{id:i,text:e}});t("select.dcf-input-autocomplete").select2({data:e})})}(jQuery);