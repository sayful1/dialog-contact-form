!function(c){"use strict";var e,t,i,a=c("#shaplaFieldList");function l(){a.find(".dcf-toggle").each(function(t){c(this).find("input,textarea,select").each(function(){var e=c(this).attr("name");e&&c(this).attr("name",e.replace(/\[\d+\]/g,"["+t+"]"))});var e=c(this).find(".buttonset");c.each(e,function(){var e=c(this),t=e.data("initial_value");e.find('input[type="radio"][value="'+t+'"]').prop("checked",!0)})})}function o(e){"page"===e?(c(".col-redirect-url").slideUp("first"),c(".col-redirect-page_id").slideDown("first")):"url"===e?(c(".col-redirect-page_id").slideUp("first"),c(".col-redirect-url").slideDown("first")):(c(".col-redirect-page_id").slideUp("first"),c(".col-redirect-url").slideUp("first"))}c(document).on("change",".switch-input",function(){var e=c(this),t=e.val(),i=e.closest(".buttonset");i.length&&i.data("initial_value",t)}),c(".dcf-fields-list").draggable({connectToSortable:"#shaplaFieldList",helper:"clone",stop:function(e,t){c.ajax({method:"POST",url:ajaxurl,data:{action:"dcf_field_settings",type:c(this).data("type")},success:function(e){t.helper.replaceWith(e),a.find(".dcf-toggle").each(function(){c(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),a.find(".dcf-date-picker").each(function(){c(this).datepicker({dateFormat:"yy-mm-dd"})}),a.find("select.select2").each(function(){c(this).select2()})}})}}),a.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(c(this).closest(".dcf-toggle").remove(),l())}),a.on("keydown keyup",".dcf-field-title",function(){e=c(this),t=e.val(),(i=e.closest(".dcf-toggle")).find(".dcf-toggle-title--label").text(t),i.find(".dcf-field-placeholder").val(t),i.find(".dcf-field-id").val(t.replace(/[\W_]+/g,"_").toLowerCase())}),a.sortable({placeholder:"ui-state-highlight",stop:function(){l()}}),c(document).find(".dcf-toggle").each(function(){"closed"===c(this).data("id")?c(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):c(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content"})}),c("#dcf-metabox-tabs").tabs(),c(".dcf-colorpicker").each(function(){c(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})}),c(document).find(".dcf-date-picker").each(function(){c(this).datepicker({dateFormat:"yy-mm-dd"})}),c(document).ready(function(){c("select.select2").select2(),c("#_contact_form_actions").select2().on("select2:select",function(){var e=c(this).val();c.each(e,function(e,t){c("#action-"+t).slideDown("fast")})}).on("select2:unselect",function(e){var t=e.params.data.id;c("#action-"+t).slideUp("fast")})}),c(document).on("change","#redirect_redirect_to",function(){o(c(this).find(":selected").val())}),c(document).ready(function(){o(c("#redirect_redirect_to").find(":selected").val())}),c(document).on("change","#mailchimp_mailchimp_api_key_source",function(){var e=c(this).find(":selected").val();"custom"===e?c(".col-mailchimp_api_key").slideDown("first"):c(".col-mailchimp_api_key").slideUp("first")}),c("body.post-type-dialog-contact-form").on("click",".page-title-action",function(e){e.preventDefault(),c("#modal-form-template").addClass("is-active")}),c(document).on("click",'[data-dismiss="modal"]',function(e){e.preventDefault(),c(this).closest(".modal").removeClass("is-active")})}(jQuery);