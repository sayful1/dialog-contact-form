!function(i){"use strict";var e,d,l,t,c=i("#shaplaFieldList"),n=["checkbox","radio","select"];function f(){c.find(".dcf-toggle").each(function(e){i(this).find("input,textarea,select").each(function(){i(this).attr("name",i(this).attr("name").replace(/\[\d+\]/g,"["+e+"]"))})})}function o(){e=i(this),d=e.find(":selected").val(),(l=e.closest(".dcf-toggle")).find(".col-addOptions").hide(),l.find(".col-numberOption").hide(),l.find(".col-field_value").hide(),l.find(".col-acceptance").hide(),l.find(".col-min_date").hide(),l.find(".col-max_date").hide(),l.find(".col-native_html5").hide(),l.find(".col-max_file_size").hide(),l.find(".col-allowed_file_types").hide(),l.find(".col-multiple_files").hide(),l.find(".col-rows").hide(),l.find(".col-validation").hide(),l.find(".col-error_message").hide(),"acceptance"===d&&(l.find(".col-placeholder").hide(),l.find(".col-field_class").slideUp("fast"),l.find(".col-acceptance").slideDown("fast")),"checkbox"===d&&(l.find(".col-placeholder").hide(),l.find(".col-field_class").slideUp("fast"),l.find(".col-required_field").slideUp("fast"),l.find(".col-addOptions").slideDown("fast")),"date"===d&&(l.find(".col-min_date").slideDown("fast"),l.find(".col-max_date").slideDown("fast"),l.find(".col-native_html5").slideDown("fast")),"time"===d&&l.find(".col-native_html5").slideDown("fast"),"file"===d&&(l.find(".col-placeholder").hide(),l.find(".col-max_file_size").slideDown("fast"),l.find(".col-allowed_file_types").slideDown("fast"),l.find(".col-multiple_files").slideDown("fast")),"hidden"===d&&(l.find(".col-placeholder").slideUp("fast"),l.find(".col-field_class").slideUp("fast"),l.find(".col-required_field").slideUp("fast"),l.find(".col-field_width").slideUp("fast"),l.find(".col-field_value").slideDown("fast")),"number"===d&&l.find(".col-numberOption").slideDown("fast"),"textarea"===d&&l.find(".col-rows").slideDown("fast"),0<=i.inArray(d,n)&&l.find(".col-addOptions").slideDown("fast")}i("#addFormField").on("click",function(e){e.preventDefault(),t=i("#shaplaFieldTemplate").html(),c.append(t),c.find(".dcf-toggle").each(function(){i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),c.find(".dcf-date-picker").each(function(){i(this).datepicker({dateFormat:"yy-mm-dd"})}),c.find(".dcf-field-type").each(function(){o.call(this)}),f()}),c.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(i(this).closest(".dcf-toggle").remove(),f())}),c.on("keydown keyup",".dcf-field-title",function(){e=i(this),d=e.val(),(l=e.closest(".dcf-toggle")).find(".dcf-toggle-title").text(d),l.find(".dcf-field-placeholder").val(d),l.find(".dcf-field-id").val(d.replace(/[\W_]+/g,"_").toLowerCase())}),c.on("change",".dcf-field-type",function(){o.call(this)}),i(document).ready(function(){c.find(".dcf-field-type").each(function(){o.call(this)})}),c.sortable({placeholder:"ui-state-highlight",stop:function(){f()}}),i(document).find(".dcf-toggle").each(function(){"closed"===i(this).data("id")?i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):i(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content"})}),i("#dcf-metabox-tabs").tabs(),i(".dcf-colorpicker").each(function(){i(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})}),i(document).find(".dcf-date-picker").each(function(){i(this).datepicker({dateFormat:"yy-mm-dd"})})}(jQuery);