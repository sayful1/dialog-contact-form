!function(n){"use strict";var i=n("#shaplaFieldList"),t=n("#shaplaFieldTemplate");function o(){i.find(".accordion").each(function(e){n(this).find(".input-validate").each(function(){n(this).attr("name","field[validation]["+e+"][]")})})}n("#addFormField").on("click",function(e){e.preventDefault(),i.append(t.html()),o()}),i.on("keydown keyup",'[name="field[field_title][]"]',function(){var e=n(this),i=e.val(),t=e.closest(".accordion");t.find(".accordion-header").text(i),t.find('[name="field[placeholder][]"]').val(i),t.find('[name="field[field_id][]"]').val(i.replace(/[\W_]+/g,"_").toLowerCase())}),i.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&n(this).closest(".accordion").remove()}),i.on("change",'[name="field[field_type][]"]',function(){var e,i=(e=n(this)).closest(".accordion");0<=n.inArray(e.val(),["checkbox","radio","select"])?i.find(".col-addOptions").slideDown("fast"):i.find(".col-addOptions").slideUp("fast"),"number"===e.val()?i.find(".col-numberOption").slideDown("fast"):i.find(".col-numberOption").slideUp("fast")}),i.sortable({placeholder:"ui-state-highlight",stop:function(){o()}}),i.on("click",".accordion-header",function(){n(this).toggleClass("active");var e=n(this).next();0<parseInt(e.css("max-height"))?e.css("max-height","0"):e.css("max-height",e.prop("scrollHeight")+"px")}),n(".dcf-colorpicker").each(function(){n(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})})}(jQuery);