!function(t){"use strict";var e,i,c,l,d=t("#shaplaFieldList"),n=["checkbox","radio","select"];function o(){d.find(".dcf-toggle").each(function(e){t(this).find("input,textarea,select").each(function(){t(this).attr("name",t(this).attr("name").replace(/\[\d+\]/g,"["+e+"]"))})})}function f(){e=t(this),i=e.find(":selected").val(),(c=e.closest(".dcf-toggle")).find(".col-validation").hide(),c.find(".col-error_message").hide(),c.find(".col-field_value").hide(),0<=t.inArray(i,n)?c.find(".col-addOptions").slideDown("fast"):c.find(".col-addOptions").slideUp("fast"),"number"===i?c.find(".col-numberOption").slideDown("fast"):c.find(".col-numberOption").slideUp("fast"),"acceptance"===i?(c.find(".col-placeholder").slideUp("fast"),c.find(".col-field_value").slideUp("fast"),c.find(".col-field_class").slideUp("fast"),c.find(".col-acceptance").slideDown("fast")):c.find(".col-acceptance").slideUp("fast")}t("#addFormField").on("click",function(e){e.preventDefault(),l=t("#shaplaFieldTemplate").html(),d.append(l),d.find(".dcf-toggle").each(function(){t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1})}),o()}),d.on("click",".deleteField",function(e){e.preventDefault(),!0===confirm("Are you sure to delete this field?")&&(t(this).closest(".dcf-toggle").remove(),o())}),d.on("keydown keyup",".dcf-field-title",function(){e=t(this),i=e.val(),(c=e.closest(".dcf-toggle")).find(".dcf-toggle-title").text(i),c.find(".dcf-field-placeholder").val(i),c.find(".dcf-field-id").val(i.replace(/[\W_]+/g,"_").toLowerCase())}),d.on("change",".dcf-field-type",function(){f.call(this)}),t(document).ready(function(){d.find(".dcf-field-type").each(function(){f.call(this)})}),d.sortable({placeholder:"ui-state-highlight",stop:function(){o()}}),t(document).find(".dcf-toggle").each(function(){"closed"===t(this).data("id")?t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content",active:!1}):t(this).accordion({header:".dcf-toggle-title",collapsible:!0,heightStyle:"content"})}),t("#dcf-metabox-tabs").tabs(),t(".dcf-colorpicker").each(function(){t(this).wpColorPicker({palettes:["#f5f5f5","#212121","#00d1b2","#009688","#2196f3","#4caf50","#ffc107","#f44336"]})})}(jQuery);